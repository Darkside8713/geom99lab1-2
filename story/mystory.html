<!DOCTYPE html>
<html lang="en">
  <head>
    <title>My Story</title>
    <script src="https://polyfill.io/v3/polyfill.min.js?features=default"></script>
    <style>
      /* Always set the map height explicitly to define the size of the div
       * element that contains the map. */
        #map {
          height: 1000px;
        }

        /* Optional: Makes the sample page fill the window. */
        html,
        body {
          height: 100%;
          margin: 0;
          padding: 0;
        }
.space {
    padding-left: 20px;
}
    </style>
<script>
 function initMap() {
  // changed the pins/airports into variables for optimization purposes
    const dxb = { lat: 25.253290925785134, lng: 55.36555478073066 };
    const fra = { lat: 50.0379603540928, lng: 8.562533606281635 };
    const yul = { lat: 45.46604694658018, lng: -73.74507989720708 };
    const ysj = { lat: 45.32915634620157, lng: -65.89039652882502 };
    const iconURL = { url: 'https://francis-soriano.github.io/geom99lab1/story/airport.png' }
    const map = new google.maps.Map(document.getElementById("map"), {
      zoom: 3,
      center: { lat: 43.43464856542449, lng: -27.339630669624995 },
    });
    
// The following script is taken (and modified) from: https://developers.google.com/maps/documentation/javascript/examples/polyline-simple#maps_polyline_simple-javascript
    const firstLeg = [
      dxb, fra
    ] ;
    const secondLeg = [
      fra, yul
    ] ;
    const thirdLeg = [
      yul, ysj
    ] ;
    const firstFlightPath = new google.maps.Polyline({
        path: firstLeg,
        geodesic: true,
        strokeColor: "#FFADAD",
        strokeOpacity: 1.0,
        strokeWeight: 4,
    });

    const secondFlightPath = new google.maps.Polyline({
        path: secondLeg,
        geodesic: true,
        strokeColor: "#CAFFBF",
        strokeOpacity: 1.0,
        strokeWeight: 4,
    });

  const thirdFlightPath = new google.maps.Polyline({
        path: thirdLeg,
        geodesic: true,
        strokeColor: "#BDB2FF",
        strokeOpacity: 1.0,
        strokeWeight: 4,
    });

  firstFlightPath.setMap(map);
  secondFlightPath.setMap(map);
  thirdFlightPath.setMap(map);

// The following script is taken (and modified) from: https://developers.google.com/maps/documentation/javascript/custom-markers
// As well as: https://developers.google.com/maps/documentation/javascript/examples/infowindow-simple
const dxbmarker = new google.maps.Marker({
  position: dxb,
  map: map,
  icon: iconURL,
  title: "Hello world!"
});

const infowindow = new google.maps.infowindow({
  content: "This is my marker."
});

marker.addListener('click',function() {
  infowindow.open(map, marker);
});
 }

// The following script is taken (and modified) from: https://developers.google.com/maps/documentation/javascript/examples/infowindow-simple
// const contentString =
//     '<div id="content">' +
//     '<div id="siteNotice">' +
//     "</div>" +
//     '<h1 id="firstHeading" class="firstHeading">Uluru</h1>' +
//     '<div id="bodyContent">' +
//     "<p><b>Uluru</b>, also referred to as <b>Ayers Rock</b>, is a large " +
//     "sandstone rock formation in the southern part of the " +
//     "Northern Territory, central Australia. It lies 335&#160;km (208&#160;mi) " +
//     "south west of the nearest large town, Alice Springs; 450&#160;km " +
//     "(280&#160;mi) by road. Kata Tjuta and Uluru are the two major " +
//     "features of the Uluru - Kata Tjuta National Park. Uluru is " +
//     "sacred to the Pitjantjatjara and Yankunytjatjara, the " +
//     "Aboriginal people of the area. It has many springs, waterholes, " +
//     "rock caves and ancient paintings. Uluru is listed as a World " +
//     "Heritage Site.</p>" +
//     '<p>Attribution: Uluru, <a href="https://en.wikipedia.org/w/index.php?title=Uluru&oldid=297882194">' +
//     "https://en.wikipedia.org/w/index.php?title=Uluru</a> " +
//     "(last visited June 22, 2009).</p>" +
//     "</div>" +
//     "</div>";
//   const infowindow = new google.maps.InfoWindow({
//     content: contentString,
//     ariaLabel: "Uluru",
//   });

//   marker.addListener("click", () => {
//     infowindow.open({
//       anchor: marker,
//       map,
//     });
//   });
// }

window.initMap = initMap;

</script>
</head>
<body>
  <h1>Flights I took to get to Canada</h1>
  <div id="map"></div>
  <script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyCM-WWHYHIKY-do4kquMy9Z4wQaQx51AuE&callback=initMap&v=weekly" async>
  </script>
</body>
</html>